------------------------------------------------------------------------------------
       log:  /Users/sechilds/uottawa/log/.log
  log type:  text
 opened on:   7 Apr 2011, 09:51:32

.         
. ensuredir "estimates/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory estimates/ already exists.

. ensuredir "estimates/`dofilename'/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory estimates// already exists.

. // ensuredir "estimates/`dofilename'/test_model/"
. 
. ensuredir "output/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory output/ already exists.

. ensuredir "output/`dofilename'/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory output// already exists.

. 
. 
. local delimiter=`"`=char(9)'"'          /* " */

. 
. local count = 1 // One version file.

. local datafile1 "${workdatapath}new_variable_data"

. local nick1 "main"

. 
. set tracedepth 1

. set trace on

. 
. capture file close modelsfile

. file open modelsfile using "do/persistence_model2_modellist.txt", read text

. 
. file read modelsfile line

. 
. local mcount = 0

. 
. while r(eof)==0 { 
  2.         if substr( "`line'",1,1)=="#" { 
  3.                 local comment = substr( "`line'",2,.)
  4.                 display as text "Comment: " as result "`comment'"
  5.         } 
  6.         else { 
  7.                 tokenize `"`macval(line)'"', parse(`"`delimiter'"') /* " */
  8.                 if "`1'"!="" { 
  9.                         // ensuredir "estimates/`dofilename'/`3'/"
.                         // ensuredir "output/`dofilename'/`3'/"
.                         
.                         local ++mcount
 10.                         
.                         local modelfile`mcount' "`1'"
 11.                         local modelnick`mcount' "`3'"
 12.                         local modelname`mcount' "`5'"
 13.                 } 
 14.         } 
 15.         file read modelsfile line
 16. } 
- while r(eof)==0 {
- if substr( "`line'",1,1)=="#" {
= if substr( "#persistence_model2_modellist.txt",1,1)=="#" {
- local comment = substr( "`line'",2,.)
= local comment = substr( "#persistence_model2_modellist.txt",2,.)
- display as text "Comment: " as result "`comment'"
= display as text "Comment: " as result "persistence_model2_modellist.txt"
Comment: persistence_model2_modellist.txt
- }
- else {
  tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  if "`1'"!="" {
  local ++mcount
  local modelfile`mcount' "`1'"
  local modelnick`mcount' "`3'"
  local modelname`mcount' "`5'"
  }
  }
- file read modelsfile line
- }
- while r(eof)==0 {
- if substr( "`line'",1,1)=="#" {
= if substr( "do/persistence_model2_reg1.txt    base    Persistence Model -- Base.",
> 1,1)=="#" {
  local comment = substr( "`line'",2,.)
  display as text "Comment: " as result "`comment'"
  }
- else {
- tokenize `"`macval(line)'"', parse(`"`delimiter'"')
= tokenize `"do/persistence_model2_reg1.txt     base    Persistence Model -- Base."'
> , parse(`"    "')
- if "`1'"!="" {
= if "do/persistence_model2_reg1.txt"!="" {
- local ++mcount
- local modelfile`mcount' "`1'"
= local modelfile1 "do/persistence_model2_reg1.txt"
- local modelnick`mcount' "`3'"
= local modelnick1 "base"
- local modelname`mcount' "`5'"
= local modelname1 "Persistence Model -- Base."
- }
- }
- file read modelsfile line
- }
- while r(eof)==0 {
  if substr( "`line'",1,1)=="#" {
  local comment = substr( "`line'",2,.)
  display as text "Comment: " as result "`comment'"
  }
  else {
  tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  if "`1'"!="" {
  local ++mcount
  local modelfile`mcount' "`1'"
  local modelnick`mcount' "`3'"
  local modelname`mcount' "`5'"
  }
  }
  file read modelsfile line
  }

. file close modelsfile

. 
. forvalues i = 1/`count' { 
  2.         use "`datafile`i''", clear
  3.         
.         ensuredir "estimates/`dofilename'/`nick`i''/"
  4.         ensuredir "output/`dofilename'/`nick`i''/"
  5.         
.         forvalues m = 1/`mcount' { 
  6.                 ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`m''/"
  7.                 ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''/"
  8.                 foreach n of varlist leave2 leave3 leave /* cont2 cont3 uoretur
> n */ {
  9.                         local myreplace "replace"
 10.                         ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`
> m''/`n'/"
 11.                         ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''
> /`n'/"
 12.                         local sysdate = c(current_date)
 13.                         local systime = c(current_time)
 14.                         local timestring "`sysdate' `systime'"
 15.                         persistence_model `n' using "`modelfile`m''", ///
>                                 estdir( "estimates/`dofilename'/`nick`i''/`modelni
> ck`m''/`n'/") ///
>                                 title( "Regression Output: `modelname`m'' (`n')") 
> ///
>                                 notes( Dependant Variable: `n'; Average marginal e
> ffects shown., Data file: `datafile`i'' (`nick`i''), Do file: `dofilename'.do; Mod
> el file: `modelfile`m''; Date ran: `timestring' ) ///
>                                 sheet( "`modelnick`m''_`n'") ///
>                                 save( "output/`dofilename'/`nick`i''/`modelnick`m'
> '/`n'/${dofilename}_`nick`i''_`modelnick`m''_`n'.xls") `myreplace'
 16.                         local myreplace "append" 
 17.                 } 
 18.         }       
 19. } 
- forvalues i = 1/`count' {
= forvalues i = 1/1 {
- use "`datafile`i''", clear
= use "~/uottawa/data\work/new_variable_data", clear
- ensuredir "estimates/`dofilename'/`nick`i''/"
= ensuredir "estimates//main/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "estimates//main/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file estimates//main
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "estimates//main/" as text " already exis
> ts."
Directory estimates//main/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- ensuredir "output/`dofilename'/`nick`i''/"
= ensuredir "output//main/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "output//main/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file output//main
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "output//main/" as text " already exists.
> "
Directory output//main/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- forvalues m = 1/`mcount' {
= forvalues m = 1/1 {
- ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`m''/"
= ensuredir "estimates//main/base/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "estimates//main/base/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file estimates//main/base
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "estimates//main/base/" as text " already
>  exists."
Directory estimates//main/base/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''/"
= ensuredir "output//main/base/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "output//main/base/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file output//main/base
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "output//main/base/" as text " already ex
> ists."
Directory output//main/base/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- foreach n of varlist leave2 leave3 leave {
- local myreplace "replace"
- ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`m''/`n'/"
= ensuredir "estimates//main/base/leave2/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "estimates//main/base/leave2/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file estimates//main/base/leave2
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "estimates//main/base/leave2/" as text " 
> already exists."
Directory estimates//main/base/leave2/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''/`n'/"
= ensuredir "output//main/base/leave2/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "output//main/base/leave2/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file output//main/base/leave2
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "output//main/base/leave2/" as text " alr
> eady exists."
Directory output//main/base/leave2/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- local sysdate = c(current_date)
- local systime = c(current_time)
- local timestring "`sysdate' `systime'"
= local timestring "7 Apr 2011 09:51:32"
- persistence_model `n' using "`modelfile`m''", estdir( "estimates/`dofilename'/`nic
> k`i''/`modelnick`m''/`n'/") title( "Regression Output: `modelname`m'' (`n')") note
> s( Dependant Variable: `n'; Average marginal effects shown., Data file: `datafile`
> i'' (`nick`i''), Do file: `dofilename'.do; Model file: `modelfile`m''; Date ran: `
> timestring' ) sheet( "`modelnick`m''_`n'") save( "output/`dofilename'/`nick`i''/`m
> odelnick`m''/`n'/${dofilename}_`nick`i''_`modelnick`m''_`n'.xls") `myreplace'
= persistence_model leave2 using "do/persistence_model2_reg1.txt", estdir( "estimate
> s//main/base/leave2/") title( "Regression Output: Persistence Model -- Base. (leav
> e2)") notes( Dependant Variable: leave2; Average marginal effects shown., Data fil
> e: ~/uottawa/data\work/new_variable_data (main), Do file: .do; Model file: do/pers
> istence_model2_reg1.txt; Date ran: 7 Apr 2011 09:51:32 ) sheet( "base_leave2") sav
> e( "output//main/base/leave2/persistence_model2_main_base_leave2.xls") replace
  ------------------------------------------------------ begin persistence_model ---
  - syntax varname using [if] [in], estdir(string) save(passthru) [replace append] t
> itle(passthru) notes(passthru) sheet(passthru)
  - marksample touse
  - tempvar consis_sample
  - quietly generate `consis_sample' = 1
  = quietly generate __000001 = 1
  - local delimiter=`"`=char(9)'"'
  = local delimiter=`"  "'
  - local allvars ""
  - local keepvars ""
  - local rownames ""
  - local colformats ""
  - local rowblank ""
  - local last_var "COL_NAMES"
  - local models 0
  - local consistent ""
  - capture file close myfile
  - file open myfile `using', read text
  = file open myfile using `"do/persistence_model2_reg1.txt"', read text
  - file read myfile line
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "#persistence_model2_reg1.txt", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "#persistence_model2_reg1.txt", 1, 1) == "#" {
  - local comment = substr( "`line'", 2, .)
  = local comment = substr( "#persistence_model2_reg1.txt", 2, .)
  - display as text "Comment: " as result "`comment'"
  = display as text "Comment: " as result "persistence_model2_reg1.txt"
Comment: persistence_model2_reg1.txt
  - }
  - else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "#First set of models - uottawa persistence", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "#First set of models - uottawa persistence", 1, 1) == "#" {
  - local comment = substr( "`line'", 2, .)
  = local comment = substr( "#First set of models - uottawa persistence", 2, .)
  - display as text "Comment: " as result "`comment'"
  = display as text "Comment: " as result "First set of models - uottawa persistence
> "
Comment: First set of models - uottawa persistence
  - }
  - else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "basic        Basic Controls", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "basic   Basic Controls", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "basic   Basic Controls"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "basic   Basic Controls"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"basic    Basic Controls"', parse(`"      "')
  - local estname`models' "`1'"
  = local estname1 "basic"
  - local regname`models' "`3'"
  = local regname1 "Basic Controls"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "lang Language Controls", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "lang    Language Controls", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "lang    Language Controls"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "lang    Language Controls"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"lang     Language Controls"', parse(`"   "')
  - local estname`models' "`1'"
  = local estname2 "lang"
  - local regname`models' "`3'"
  = local regname2 "Language Controls"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "local        Local Students", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "local   Local Students", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "local   Local Students"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "local   Local Students"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"local    Local Students"', parse(`"      "')
  - local estname`models' "`1'"
  = local estname3 "local"
  - local regname`models' "`3'"
  = local regname3 "Local Students"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "hsavg        High School Admission Average", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "hsavg   High School Admission Average", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "hsavg   High School Admission Average"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "hsavg   High School Admission Average"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"hsavg    High School Admission Average"', parse(`"       "')
  - local estname`models' "`1'"
  = local estname4 "hsavg"
  - local regname`models' "`3'"
  = local regname4 "High School Admission Average"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "pgrm uOttawa Program", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "pgrm    uOttawa Program", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "pgrm    uOttawa Program"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "pgrm    uOttawa Program"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"pgrm     uOttawa Program"', parse(`"     "')
  - local estname`models' "`1'"
  = local estname5 "pgrm"
  - local regname`models' "`3'"
  = local regname5 "uOttawa Program"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "@", 1, 1) != "@" {
    if substr( "`line'", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
    else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
    file read myfile line
    }
  - local dummies ""
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local m`i' ""
  = local m1 ""
  - }
  - local m`i' ""
  = local m2 ""
  - }
  - local m`i' ""
  = local m3 ""
  - }
  - local m`i' ""
  = local m4 ""
  - }
  - local m`i' ""
  = local m5 ""
  - }
  - file read myfile line
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Gender (Female)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Gender (Female)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Gender (Female)",2,.)
  - if `"`rowblank'"' == "" {
  = if `""' == "" {
  - local comma ""
  - }
  - else {
    local comma ","
    }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "male    Male    1       0       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "male    Male    1       0       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "male    Male    1       0       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "male    Male    1       0       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"male     Male    1       0       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "male"
  - local allvars "`allvars' `1'"
  = local allvars " male"
  - label variable `1' `"`3'"'
  = label variable male `"Male"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( male) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "0"=="1" {
    local dummies "`dummies' `1'"
    }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Cohort (1997)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Cohort (1997)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Cohort (1997)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_1998     1998    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_1998      1998    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_1998"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998"
  - label variable `1' `"`3'"'
  = label variable cohort_1998 `"1998"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_1998) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_1999     1999    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_1999      1999    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_1999"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999"
  - label variable `1' `"`3'"'
  = label variable cohort_1999 `"1999"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_1999) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2000     2000    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2000      2000    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2000"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000"
  - label variable `1' `"`3'"'
  = label variable cohort_2000 `"2000"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2000) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2001     2001    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2001      2001    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2001"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - label variable `1' `"`3'"'
  = label variable cohort_2001 `"2001"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2001) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2002     2002    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2002      2002    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2002"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
> "
  - label variable `1' `"`3'"'
  = label variable cohort_2002 `"2002"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2002) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2003     2003    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2003      2003    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2003"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003"
  - label variable `1' `"`3'"'
  = label variable cohort_2003 `"2003"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2003) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2004     2004    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2004      2004    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2004"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004"
  - label variable `1' `"`3'"'
  = label variable cohort_2004 `"2004"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2004) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2005     2005    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2005      2005    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2005"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005"
  - label variable `1' `"`3'"'
  = label variable cohort_2005 `"2005"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2005) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
> "'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2006     2006    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2006      2006    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2006"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006"
  - label variable `1' `"`3'"'
  = label variable cohort_2006 `"2006"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2006) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2007     2007    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2007      2007    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2007"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - label variable `1' `"`3'"'
  = label variable cohort_2007 `"2007"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2007) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2008     2008    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2008      2008    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2008"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - label variable `1' `"`3'"'
  = label variable cohort_2008 `"2008"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2008) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
> "
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_
> 2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008" != "" & substr( "cohort_1
> 998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 cohort_2004 cohort
> _2005 cohort_2006 cohort_2007 cohort_2008", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Province (Ontario)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Province (Ontario)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Province (Ontario)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0"
> '
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_nl Newfoundland and Labrador       1       1       1       1       1   
>     1 1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_nl  Newfoundland and Labrador       1       1       1       1   
>     1 1       1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_nl"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - label variable `1' `"`3'"'
  = label variable prov_nl `"Newfoundland and Labrador"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_nl) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_pei        Prince Edward Island    1       1       1       1       1   
>     1 1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_pei Prince Edward Island    1       1       1       1       1   
>     1 1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_pei"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei"
  - label variable `1' `"`3'"'
  = label variable prov_pei `"Prince Edward Island"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_pei) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_ns Nova Scotia     1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_ns  Nova Scotia     1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_ns"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns"
  - label variable `1' `"`3'"'
  = label variable prov_ns `"Nova Scotia"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_ns) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_nb New Brunswick   1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_nb  New Brunswick   1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_nb"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb"
  - label variable `1' `"`3'"'
  = label variable prov_nb `"New Brunswick"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_nb) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_qc Qubec 1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_qc Qubec 1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_qc Qubec 1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_qc Qubec 1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_qc  Qubec 1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_qc"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc"
  - label variable `1' `"`3'"'
  = label variable prov_qc `"Qubec"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_qc) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_mb Manitoba        1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_mb  Manitoba        1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_mb"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb"
  - label variable `1' `"`3'"'
  = label variable prov_mb `"Manitoba"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_mb) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_sk Saskatchewan    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_sk  Saskatchewan    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_sk"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - label variable `1' `"`3'"'
  = label variable prov_sk `"Saskatchewan"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_sk) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_ab Alberta 1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_ab  Alberta 1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_ab"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - label variable `1' `"`3'"'
  = label variable prov_ab `"Alberta"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_ab) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_bc British Columbia        1       1       1       1       1       1   
>     1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_bc  British Columbia        1       1       1       1       1   
>     1 1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_bc"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - label variable `1' `"`3'"'
  = label variable prov_bc `"British Columbia"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_bc) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_yk Yukon   1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_yk  Yukon   1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_yk"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - label variable `1' `"`3'"'
  = label variable prov_yk `"Yukon"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_yk) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_oth        Other   1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_oth Other   1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_oth"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - label variable `1' `"`3'"'
  = label variable prov_oth `"Other"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_oth) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth" != "" & substr
> ( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 cohort_
> 2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_ns p
> rov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Language (English)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Language (English)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Language (English)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "ml2_fr  French  1       1       0       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"ml2_fr   French  1       1       0       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "ml2_fr"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr"
  - label variable `1' `"`3'"'
  = label variable ml2_fr `"French"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( ml2_fr) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "ml2_oth Other   1       1       0       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"ml2_oth  Other   1       1       0       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "ml2_oth"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth"
  - label variable `1' `"`3'"'
  = label variable ml2_oth `"Other"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( ml2_oth) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth \  ml2_fr ml2_oth")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  ml2_fr ml2_o
> th" != "" & substr( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 c
> ohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> \  ml2_fr ml2_oth", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Local Student (Non-Local)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Local Student (Non-Local)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Local Student (Non-Local)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "local1  Local   1       0       0       0       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "local1  Local   1       0       0       0       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "local1  Local   1       0       0       0       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "local1  Local   1       0       0       0       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"local1   Local   1       0       0       0       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "local1"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1"
  - label variable `1' `"`3'"'
  = label variable local1 `"Local"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( local1) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3"
  - }
  - if "`7'"=="1" {
  = if "0"=="1" {
    local dummies "`dummies' `1'"
    }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">High School Admission Average (B+)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">High School Admission Average (B+)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">High School Admission Average (B+)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0 , local1 "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (B+)
> " SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_Aplus     A+      1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_Aplus      A+      1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_Aplus"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus"
  - label variable `1' `"`3'"'
  = label variable admav_Aplus `"A+"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_Aplus) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_A A       1       1       0       0       0       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_A A       1       1       0       0       0       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_A A       1       1       0       0       0       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_A A       1       1       0       0       0       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_A  A       1       1       0       0       0       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_A"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A"
  - label variable `1' `"`3'"'
  = label variable admav_A `"A"'
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_A) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Qubec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_Aminus A- 1       1       0       0       0       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_Aminus A- 1       1       0       0       0       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_Aminus A- 1       1       0       0       0       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_Aminus A- 1       1       0       0       0       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_Aminus A-  1       1       0       0       0       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_Aminus A-"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Aminus A-"
  - label variable `1' `"`3'"'
  = label variable admav_Aminus A- `"1"'
invalid syntax
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
    }
    file read myfile line
    }
  -------------------------------------------------------- end persistence_model ---
  local myreplace "append"
  }
  }
  }
r(198);

end of do-file

r(198);

. do finalcleanup

. * finalcleanup.do
. 
. /*
>         Clear the time and date strings.
> */
. 
. global ransetup ""

. 
. capture noisily log close
       log:  /Users/sechilds/uottawa/log/.log
  log type:  text
 closed on:   7 Apr 2011, 09:53:44
------------------------------------------------------------------------------------
