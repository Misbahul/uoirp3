------------------------------------------------------------------------------------
       log:  /Users/sechilds/uottawa/log/.log
  log type:  text
 opened on:   7 Feb 2011, 08:05:45

.         
. ensuredir "estimates/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory estimates/ already exists.

. ensuredir "estimates/`dofilename'/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory estimates// already exists.

. // ensuredir "estimates/`dofilename'/test_model/"
. 
. ensuredir "output/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory output/ already exists.

. ensuredir "output/`dofilename'/"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
Directory output// already exists.

. 
. 
. local delimiter=`"`=char(9)'"'          /* " */

. 
. local count = 1 // One version file.

. local datafile1 "${workdatapath}new_variable_data"

. local nick1 "main"

. 
. set tracedepth 3

. set trace on

. 
. capture file close modelsfile

. file open modelsfile using "do/persistence_model2_modellist.txt", read text

. 
. file read modelsfile line

. 
. local mcount = 0

. 
. while r(eof)==0 { 
  2.         if substr( "`line'",1,1)=="#" { 
  3.                 local comment = substr( "`line'",2,.)
  4.                 display as text "Comment: " as result "`comment'"
  5.         } 
  6.         else { 
  7.                 tokenize `"`macval(line)'"', parse(`"`delimiter'"') /* " */
  8.                 if "`1'"!="" { 
  9.                         // ensuredir "estimates/`dofilename'/`3'/"
.                         // ensuredir "output/`dofilename'/`3'/"
.                         
.                         local ++mcount
 10.                         
.                         local modelfile`mcount' "`1'"
 11.                         local modelnick`mcount' "`3'"
 12.                         local modelname`mcount' "`5'"
 13.                 } 
 14.         } 
 15.         file read modelsfile line
 16. } 
- while r(eof)==0 {
- if substr( "`line'",1,1)=="#" {
= if substr( "#persistence_model2_modellist.txt",1,1)=="#" {
- local comment = substr( "`line'",2,.)
= local comment = substr( "#persistence_model2_modellist.txt",2,.)
- display as text "Comment: " as result "`comment'"
= display as text "Comment: " as result "persistence_model2_modellist.txt"
Comment: persistence_model2_modellist.txt
- }
- else {
  tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  if "`1'"!="" {
  local ++mcount
  local modelfile`mcount' "`1'"
  local modelnick`mcount' "`3'"
  local modelname`mcount' "`5'"
  }
  }
- file read modelsfile line
- }
- while r(eof)==0 {
- if substr( "`line'",1,1)=="#" {
= if substr( "do/persistence_model2_reg1.txt    base    Persistence Model -- Base.",
> 1,1)=="#" {
  local comment = substr( "`line'",2,.)
  display as text "Comment: " as result "`comment'"
  }
- else {
- tokenize `"`macval(line)'"', parse(`"`delimiter'"')
= tokenize `"do/persistence_model2_reg1.txt     base    Persistence Model -- Base."'
> , parse(`"    "')
- if "`1'"!="" {
= if "do/persistence_model2_reg1.txt"!="" {
- local ++mcount
- local modelfile`mcount' "`1'"
= local modelfile1 "do/persistence_model2_reg1.txt"
- local modelnick`mcount' "`3'"
= local modelnick1 "base"
- local modelname`mcount' "`5'"
= local modelname1 "Persistence Model -- Base."
- }
- }
- file read modelsfile line
- }
- while r(eof)==0 {
  if substr( "`line'",1,1)=="#" {
  local comment = substr( "`line'",2,.)
  display as text "Comment: " as result "`comment'"
  }
  else {
  tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  if "`1'"!="" {
  local ++mcount
  local modelfile`mcount' "`1'"
  local modelnick`mcount' "`3'"
  local modelname`mcount' "`5'"
  }
  }
  file read modelsfile line
  }

. file close modelsfile

. 
. forvalues i = 1/`count' { 
  2.         use "`datafile`i''", clear
  3.         
.         ensuredir "estimates/`dofilename'/`nick`i''/"
  4.         ensuredir "output/`dofilename'/`nick`i''/"
  5.         
.         forvalues m = 1/`mcount' { 
  6.                 local myreplace "replace"
  7.                 ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`m''/"
  8.                 ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''/"
  9.                 local sysdate = c(current_date)
 10.                 local systime = c(current_time)
 11.                 local timestring "`sysdate' `systime'"
 12.                 persistence_model using "`modelfile`m''", ///
>                         estdir( "estimates/`dofilename'/`nick`i''/`modelnick`m''/"
> ) ///
>                         title( "Regression Output: `modelname`m''") ///
>                         notes( Average marginal effects shown., Data file: `datafi
> le`i'' (`nick`i''), Do file: `dofilename'.do; Model file: `modelfile`m''; Date ran
> : `timestring' ) sheet( "`modelnick`m''") ///
>                         save( "output/`dofilename'/`nick`i''/`modelnick`m''/`dofil
> ename'_`nick`i''_`modelnick`m''.xls") `myreplace'
 13.                 local myreplace "append" 
 14.         }       
 15. } 
- forvalues i = 1/`count' {
= forvalues i = 1/1 {
- use "`datafile`i''", clear
= use "~/uottawa/data\work/new_variable_data", clear
- ensuredir "estimates/`dofilename'/`nick`i''/"
= ensuredir "estimates//main/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "estimates//main/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file estimates//main
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "estimates//main/" as text " already exis
> ts."
Directory estimates//main/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- ensuredir "output/`dofilename'/`nick`i''/"
= ensuredir "output//main/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "output//main/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file output//main
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "output//main/" as text " already exists.
> "
Directory output//main/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- forvalues m = 1/`mcount' {
= forvalues m = 1/1 {
- local myreplace "replace"
- ensuredir "estimates/`dofilename'/`nick`i''/`modelnick`m''/"
= ensuredir "estimates//main/base/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "estimates//main/base/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file estimates//main/base
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "estimates//main/base/" as text " already
>  exists."
Directory estimates//main/base/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- ensuredir "output/`dofilename'/`nick`i''/`modelnick`m''/"
= ensuredir "output//main/base/"
  -------------------------------------------------------------- begin ensuredir ---
  - version 10
  - args dirname
  - display _newline as text "Running " as result "\$Id: ensuredir.ado 1394 2010-01-
> 27 14:50:32Z mesa $"
  = display _newline as text "Running " as result "$Id: ensuredir.ado 1394 2010-01-2
> 7 14:50:32Z mesa $"

Running $Id: ensuredir.ado 1394 2010-01-27 14:50:32Z mesa $
  - local match = regexm( "`dirname'", "(.*)[\/]$")
  = local match = regexm( "output//main/base/", "(.*)[\/]$")
  - if `match' {
  = if 1 {
  - local confirmname = regexs(1)
  - }
  - else {
    local confirmname "`dirname'"
    }
  - capture confirm new file `confirmname'
  = capture confirm new file output//main/base
  - if _rc==0 {
    mkdir `dirname'
    display as text "Directory " as result "`dirname'" as text " created."
    }
  - else {
  - display as text "Directory " as result "`dirname'" as text " already exists."
  = display as text "Directory " as result "output//main/base/" as text " already ex
> ists."
Directory output//main/base/ already exists.
  - }
  ---------------------------------------------------------------- end ensuredir ---
- local sysdate = c(current_date)
- local systime = c(current_time)
- local timestring "`sysdate' `systime'"
= local timestring "7 Feb 2011 08:05:45"
- persistence_model using "`modelfile`m''", estdir( "estimates/`dofilename'/`nick`i'
> '/`modelnick`m''/") title( "Regression Output: `modelname`m''") notes( Average mar
> ginal effects shown., Data file: `datafile`i'' (`nick`i''), Do file: `dofilename'.
> do; Model file: `modelfile`m''; Date ran: `timestring' ) sheet( "`modelnick`m''") 
> save( "output/`dofilename'/`nick`i''/`modelnick`m''/`dofilename'_`nick`i''_`modeln
> ick`m''.xls") `myreplace'
= persistence_model using "do/persistence_model2_reg1.txt", estdir( "estimates//main
> /base/") title( "Regression Output: Persistence Model -- Base.") notes( Average ma
> rginal effects shown., Data file: ~/uottawa/data\work/new_variable_data (main), Do
>  file: .do; Model file: do/persistence_model2_reg1.txt; Date ran: 7 Feb 2011 08:05
> :45 ) sheet( "base") save( "output//main/base/_main_base.xls") replace
  ------------------------------------------------------ begin persistence_model ---
  - syntax using [if] [in], estdir(string) save(passthru) [replace append] title(pas
> sthru) notes(passthru) sheet(passthru)
  - marksample touse
  - tempvar consis_sample
  - quietly generate `consis_sample' = 1
  = quietly generate __000001 = 1
  - local delimiter=`"`=char(9)'"'
  = local delimiter=`"  "'
  - local allvars ""
  - local keepvars ""
  - local rownames ""
  - local colformats ""
  - local rowblank ""
  - local last_var "COL_NAMES"
  - local models 0
  - local consistent ""
  - capture file close myfile
  - file open myfile `using', read text
  = file open myfile using `"do/persistence_model2_reg1.txt"', read text
  - file read myfile line
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "#persistence_model2_reg1.txt", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "#persistence_model2_reg1.txt", 1, 1) == "#" {
  - local comment = substr( "`line'", 2, .)
  = local comment = substr( "#persistence_model2_reg1.txt", 2, .)
  - display as text "Comment: " as result "`comment'"
  = display as text "Comment: " as result "persistence_model2_reg1.txt"
Comment: persistence_model2_reg1.txt
  - }
  - else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "#First set of models - uottawa persistence", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "#First set of models - uottawa persistence", 1, 1) == "#" {
  - local comment = substr( "`line'", 2, .)
  = local comment = substr( "#First set of models - uottawa persistence", 2, .)
  - display as text "Comment: " as result "`comment'"
  = display as text "Comment: " as result "First set of models - uottawa persistence
> "
Comment: First set of models - uottawa persistence
  - }
  - else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "basic        Basic Controls", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "basic   Basic Controls", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "basic   Basic Controls"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "basic   Basic Controls"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"basic    Basic Controls"', parse(`"      "')
  - local estname`models' "`1'"
  = local estname1 "basic"
  - local regname`models' "`3'"
  = local regname1 "Basic Controls"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "lang Language Controls", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "lang    Language Controls", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "lang    Language Controls"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "lang    Language Controls"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"lang     Language Controls"', parse(`"   "')
  - local estname`models' "`1'"
  = local estname2 "lang"
  - local regname`models' "`3'"
  = local regname2 "Language Controls"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "local        Local Students", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "local   Local Students", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "local   Local Students"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "local   Local Students"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"local    Local Students"', parse(`"      "')
  - local estname`models' "`1'"
  = local estname3 "local"
  - local regname`models' "`3'"
  = local regname3 "Local Students"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "hsavg        High School Admission Average", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "hsavg   High School Admission Average", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "hsavg   High School Admission Average"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "hsavg   High School Admission Average"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"hsavg    High School Admission Average"', parse(`"       "')
  - local estname`models' "`1'"
  = local estname4 "hsavg"
  - local regname`models' "`3'"
  = local regname4 "High School Admission Average"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "pgrm uOttawa Program", 1, 1) != "@" {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "pgrm    uOttawa Program", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if "`line'"=="consistent" {
  = if "pgrm    uOttawa Program"=="consistent" {
    local consistent "consistent"
    }
  - else {
  - if "`line'"!="" {
  = if "pgrm    uOttawa Program"!="" {
  - local ++models
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"pgrm     uOttawa Program"', parse(`"     "')
  - local estname`models' "`1'"
  = local estname5 "pgrm"
  - local regname`models' "`3'"
  = local regname5 "uOttawa Program"
  - }
  - }
  - }
  - file read myfile line
  - }
  - while substr( "`line'", 1, 1) != "@" {
  = while substr( "@", 1, 1) != "@" {
    if substr( "`line'", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
    else {
    if "`line'"=="consistent" {
    local consistent "consistent"
    }
    else {
    if "`line'"!="" {
    local ++models
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local estname`models' "`1'"
    local regname`models' "`3'"
    }
    }
    }
    file read myfile line
    }
  - local dummies ""
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local m`i' ""
  = local m1 ""
  - }
  - local m`i' ""
  = local m2 ""
  - }
  - local m`i' ""
  = local m3 ""
  - }
  - local m`i' ""
  = local m4 ""
  - }
  - local m`i' ""
  = local m5 ""
  - }
  - file read myfile line
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Gender (Female)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Gender (Female)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Gender (Female)",2,.)
  - if `"`rowblank'"' == "" {
  = if `""' == "" {
  - local comma ""
  - }
  - else {
    local comma ","
    }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "male    Male    1       0       1       1       1       1", 1, 1) ==
>  "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "male    Male    1       0       1       1       1       1",1,1)==">"
>  {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "male    Male    1       0       1       1       1       1",1,1)=="\"
>  {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "male    Male    1       0       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"male     Male    1       0       1       1       1       1"', parse(`
> "     "')
  - local last_var "`1'"
  = local last_var "male"
  - local allvars "`allvars' `1'"
  = local allvars " male"
  - label variable `1' `"`3'"'
  = label variable male `"Male"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable male `"Male"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( male) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "0"=="1" {
    local dummies "`dummies' `1'"
    }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Cohort (1997)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Cohort (1997)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Cohort (1997)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_1998     1998    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_1998     1998    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_1998      1998    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_1998"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998"
  - label variable `1' `"`3'"'
  = label variable cohort_1998 `"1998"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_1998 `"1998"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_1998) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_1999     1999    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_1999     1999    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_1999      1999    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_1999"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999"
  - label variable `1' `"`3'"'
  = label variable cohort_1999 `"1999"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_1999 `"1999"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_1999) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2000     2000    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2000     2000    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2000      2000    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2000"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000"
  - label variable `1' `"`3'"'
  = label variable cohort_2000 `"2000"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2000 `"2000"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2000) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2001     2001    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2001     2001    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2001      2001    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2001"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - label variable `1' `"`3'"'
  = label variable cohort_2001 `"2001"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2001 `"2001"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2001) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2002     2002    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2002     2002    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2002      2002    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2002"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
> "
  - label variable `1' `"`3'"'
  = label variable cohort_2002 `"2002"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2002 `"2002"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2002) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2003     2003    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2003     2003    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2003      2003    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2003"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003"
  - label variable `1' `"`3'"'
  = label variable cohort_2003 `"2003"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2003 `"2003"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2003) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2004     2004    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2004     2004    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2004      2004    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2004"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004"
  - label variable `1' `"`3'"'
  = label variable cohort_2004 `"2004"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2004 `"2004"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2004) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2005     2005    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2005     2005    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2005      2005    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2005"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005"
  - label variable `1' `"`3'"'
  = label variable cohort_2005 `"2005"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2005 `"2005"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2005) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
> "'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2006     2006    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2006     2006    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2006      2006    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2006"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006"
  - label variable `1' `"`3'"'
  = label variable cohort_2006 `"2006"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2006 `"2006"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2006) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2007     2007    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2007     2007    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2007      2007    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2007"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - label variable `1' `"`3'"'
  = label variable cohort_2007 `"2007"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2007 `"2007"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2007) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "cohort_2008     2008    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "cohort_2008     2008    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"cohort_2008      2008    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "cohort_2008"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - label variable `1' `"`3'"'
  = label variable cohort_2008 `"2008"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable cohort_2008 `"2008"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( cohort_2008) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
> "
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_
> 2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008" != "" & substr( "cohort_1
> 998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 cohort_2004 cohort
> _2005 cohort_2006 cohort_2007 cohort_2008", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Province (Ontario)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Province (Ontario)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Province (Ontario)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0"
> '
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_nl Newfoundland and Labrador       1       1       1       1   
>     1 1       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_nl Newfoundland and Labrador       1       1       1       1       1   
>     1 1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_nl  Newfoundland and Labrador       1       1       1       1   
>     1 1       1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_nl"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - label variable `1' `"`3'"'
  = label variable prov_nl `"Newfoundland and Labrador"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_nl `"Newfoundland and Labrador"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_nl) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_pei        Prince Edward Island    1       1       1       1   
>     1 1       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_pei        Prince Edward Island    1       1       1       1       1   
>     1 1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_pei Prince Edward Island    1       1       1       1       1   
>     1 1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_pei"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei"
  - label variable `1' `"`3'"'
  = label variable prov_pei `"Prince Edward Island"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_pei `"Prince Edward Island"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_pei) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_ns Nova Scotia     1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_ns Nova Scotia     1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_ns  Nova Scotia     1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_ns"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns"
  - label variable `1' `"`3'"'
  = label variable prov_ns `"Nova Scotia"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_ns `"Nova Scotia"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_ns) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_nb New Brunswick   1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_nb New Brunswick   1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_nb  New Brunswick   1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_nb"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb"
  - label variable `1' `"`3'"'
  = label variable prov_nb `"New Brunswick"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_nb `"New Brunswick"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_nb) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_qc Québec 1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_qc Québec 1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_qc Québec 1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_qc Québec 1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_qc  Québec 1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_qc"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc"
  - label variable `1' `"`3'"'
  = label variable prov_qc `"Québec"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_qc `"Québec"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_qc) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_mb Manitoba        1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_mb Manitoba        1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_mb  Manitoba        1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_mb"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb"
  - label variable `1' `"`3'"'
  = label variable prov_mb `"Manitoba"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_mb `"Manitoba"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_mb) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_sk Saskatchewan    1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_sk Saskatchewan    1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_sk  Saskatchewan    1       1       1       1       1       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_sk"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - label variable `1' `"`3'"'
  = label variable prov_sk `"Saskatchewan"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_sk `"Saskatchewan"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_sk) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_ab Alberta 1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_ab Alberta 1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_ab  Alberta 1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_ab"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - label variable `1' `"`3'"'
  = label variable prov_ab `"Alberta"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_ab `"Alberta"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_ab) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_bc British Columbia        1       1       1       1       1   
>     1 1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_bc British Columbia        1       1       1       1       1       1   
>     1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_bc  British Columbia        1       1       1       1       1   
>     1 1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prov_bc"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - label variable `1' `"`3'"'
  = label variable prov_bc `"British Columbia"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_bc `"British Columbia"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_bc) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_yk Yukon   1       1       1       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_yk Yukon   1       1       1       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_yk  Yukon   1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_yk"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - label variable `1' `"`3'"'
  = label variable prov_yk `"Yukon"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_yk `"Yukon"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_yk) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prov_oth        Other   1       1       1       1       1       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prov_oth        Other   1       1       1       1       1       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prov_oth Other   1       1       1       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prov_oth"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - label variable `1' `"`3'"'
  = label variable prov_oth `"Other"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prov_oth `"Other"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prov_oth) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m1 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth" != "" & substr
> ( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 cohort_
> 2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_ns p
> rov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Language (English)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Language (English)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Language (English)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "ml2_fr  French  1       1       0       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "ml2_fr  French  1       1       0       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"ml2_fr   French  1       1       0       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "ml2_fr"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr"
  - label variable `1' `"`3'"'
  = label variable ml2_fr `"French"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable ml2_fr `"French"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( ml2_fr) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
> "
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "ml2_oth Other   1       1       0       1       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "ml2_oth Other   1       1       0       1       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"ml2_oth  Other   1       1       0       1       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "ml2_oth"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth"
  - label variable `1' `"`3'"'
  = label variable ml2_oth `"Other"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable ml2_oth `"Other"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( ml2_oth) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m2 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth \  ml2_fr ml2_oth")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  ml2_fr ml2_o
> th" != "" & substr( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 c
> ohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> \  ml2_fr ml2_oth", -1, 1) != "\" {
  - local dummies "`dummies' \ "
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ "
  - }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">Local Student (Non-Local)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">Local Student (Non-Local)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">Local Student (Non-Local)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "local1  Local   1       0       0       0       1       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "local1  Local   1       0       0       0       1       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "local1  Local   1       0       0       0       1       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "local1  Local   1       0       0       0       1       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"local1   Local   1       0       0       0       1       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "local1"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1"
  - label variable `1' `"`3'"'
  = label variable local1 `"Local"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable local1 `"Local"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( local1) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3"
  - }
  - if "`7'"=="1" {
  = if "0"=="1" {
    local dummies "`dummies' `1'"
    }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m3 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">High School Admission Average (A-)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">High School Admission Average (A-)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">High School Admission Average (A-)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0 , local1 "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (A-)
> " SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_Aplus     A+      1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_Aplus     A+      1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_Aplus      A+      1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_Aplus"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus"
  - label variable `1' `"`3'"'
  = label variable admav_Aplus `"A+"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_Aplus `"A+"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_Aplus) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_A A       1       1       0       0       0       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_A A       1       1       0       0       0       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_A A       1       1       0       0       0       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_A A       1       1       0       0       0       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_A  A       1       1       0       0       0       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_A"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A"
  - label variable `1' `"`3'"'
  = label variable admav_A `"A"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_A `"A"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_A) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_Bplus     B+      1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_Bplus     B+      1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_Bplus     B+      1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_Bplus     B+      1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_Bplus      B+      1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_Bplus"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus"
  - label variable `1' `"`3'"'
  = label variable admav_Bplus `"B+"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_Bplus `"B+"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_Bplus) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_B B       1       1       0       0       0       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_B B       1       1       0       0       0       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_B B       1       1       0       0       0       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_B B       1       1       0       0       0       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_B  B       1       1       0       0       0       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_B"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B"
  - label variable `1' `"`3'"'
  = label variable admav_B `"B"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_B `"B"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_B) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_Cplus     C+      1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_Cplus     C+      1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_Cplus     C+      1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_Cplus     C+      1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_Cplus      C+      1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_Cplus"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus"
  - label variable `1' `"`3'"'
  = label variable admav_Cplus `"C+"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_Cplus `"C+"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_Cplus) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B admav_Cplus"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_C C       1       1       0       0       0       1       1", 
> 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_C C       1       1       0       0       0       1       1",1
> ,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_C C       1       1       0       0       0       1       1",1
> ,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_C C       1       1       0       0       0       1       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_C  C       1       1       0       0       0       1       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_C"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C"
  - label variable `1' `"`3'"'
  = label variable admav_C `"C"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_C `"C"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_C) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_belowC    Below C 1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_belowC    Below C 1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_belowC    Below C 1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_belowC    Below C 1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_belowC     Below C 1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_belowC"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC"
  - label variable `1' `"`3'"'
  = label variable admav_belowC `"Below C"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_belowC `"Below C"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_belowC) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C""
> '
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav
> _belowC"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_
> belowC"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "admav_miss      Missing 1       1       0       0       0       1   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "admav_miss      Missing 1       1       0       0       0       1   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "admav_miss      Missing 1       1       0       0       0       1   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "admav_miss      Missing 1       1       0       0       0       1       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"admav_miss       Missing 1       1       0       0       0       1   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "admav_miss"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss"
  - label variable `1' `"`3'"'
  = label variable admav_miss `"Missing"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable admav_miss `"Missing"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( admav_miss) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav
> _belowC admav_miss"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m4 " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 coho
> rt_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_p
> ei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr
>  ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_
> belowC admav_miss"
  - }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth \  ml2_fr ml2_oth \  admav_Aplus admav_A admav_Bplus admav_B admav_Cplus adma
> v_C admav_belowC admav_miss")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  ml2_fr ml2_o
> th \" != "" & substr( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_n
> l prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_ot
> h \  ml2_fr ml2_oth \", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (A-)" SCLB0"' ==
>  "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (A-)
> " SCLB0 , admav_miss "" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( ">uOttawa Program (Arts)", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( ">uOttawa Program (Arts)",1,1)==">" {
  - local line = substr("`line'",2,.)
  = local line = substr(">uOttawa Program (Arts)",2,.)
  - if `"`rowblank'"' == "" {
  = if `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Cohort (1997)" 
> SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 , prov_oth "
> " SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student (Non-Local)
> " SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (A-)" SCLB0 , ad
> mav_miss "" SCLB0"' == "" {
    local comma ""
    }
  - else {
  - local comma ","
  - }
  - local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
  = local rowblank `"  COL_NAMES "Gender (Female)" SCLB0 , male "" SCLB0 , male "Coh
> ort (1997)" SCLB0 , cohort_2008 "" SCLB0 , cohort_2008 "Province (Ontario)" SCLB0 
> , prov_oth "" SCLB0 , prov_oth "Language (English)" SCLB0 , ml2_oth "Local Student
>  (Non-Local)" SCLB0 , local1 "" SCLB0 , local1 "High School Admission Average (A-)
> " SCLB0 , admav_miss "" SCLB0 , admav_miss "uOttawa Program (Arts)" SCLB0"'
  - }
  - else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_ed Education       1       1       0       0       0       0   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_ed Education       1       1       0       0       0       0   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_ed Education       1       1       0       0       0       0   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_ed Education       1       1       0       0       0       0       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_ed  Education       1       1       0       0       0       0   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prgm_ed"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed"
  - label variable `1' `"`3'"'
  = label variable prgm_ed `"Education"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_ed `"Education"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_ed) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_vparts     Visual and Performing Arts      1       1       0   
>     0 0       0       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_vparts     Visual and Performing Arts      1       1       0   
>     0 0       0       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_vparts     Visual and Performing Arts      1       1       0   
>     0 0       0       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_vparts     Visual and Performing Arts      1       1       0       0   
>     0 0       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_vparts      Visual and Performing Arts      1       1       0   
>     0 0       0       1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prgm_vparts"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts"
  - label variable `1' `"`3'"'
  = label variable prgm_vparts `"Visual and Performing Arts"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_vparts `"Visual and Performing Arts"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_vparts) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_biz        Business        1       1       0       0       0   
>     0 1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_biz        Business        1       1       0       0       0   
>     0 1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_biz        Business        1       1       0       0       0   
>     0 1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_biz        Business        1       1       0       0       0       0   
>     1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_biz Business        1       1       0       0       0       0   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prgm_biz"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts prgm_biz"
  - label variable `1' `"`3'"'
  = label variable prgm_biz `"Business"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_biz `"Business"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_biz) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts prgm_biz"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts" "Business""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts prgm_biz"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_sci        Science 1       1       0       0       0       0   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_sci        Science 1       1       0       0       0       0   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_sci        Science 1       1       0       0       0       0   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_sci        Science 1       1       0       0       0       0       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_sci Science 1       1       0       0       0       0       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prgm_sci"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci"
  - label variable `1' `"`3'"'
  = label variable prgm_sci `"Science"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_sci `"Science"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_sci) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts" "Business" "Science""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz prgm_sci"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_areng      Architecture and Engineering    1       1       0   
>     0 0       0       1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_areng      Architecture and Engineering    1       1       0   
>     0 0       0       1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_areng      Architecture and Engineering    1       1       0   
>     0 0       0       1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_areng      Architecture and Engineering    1       1       0       0   
>     0 0       1"!="" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_areng       Architecture and Engineering    1       1       0   
>     0 0       0       1"', parse(`"   "')
  - local last_var "`1'"
  = local last_var "prgm_areng"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng"
  - label variable `1' `"`3'"'
  = label variable prgm_areng `"Architecture and Engineering"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_areng `"Architecture and Engineering"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_areng) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts" "Business" "Science" "Architect
> ure and Engineering""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_health     Health  1       1       0       0       0       0   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_health     Health  1       1       0       0       0       0   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_health     Health  1       1       0       0       0       0   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_health     Health  1       1       0       0       0       0       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_health      Health  1       1       0       0       0       0   
>     1"', parse(`"     "')
  - local last_var "`1'"
  = local last_var "prgm_health"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_healt
> h"
  - label variable `1' `"`3'"'
  = label variable prgm_health `"Health"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_health `"Health"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_health) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_heal
> th"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts" "Business" "Science" "Architect
> ure and Engineering" "Health""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_health"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_health"
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "prgm_oth        Other   1       1       0       0       0       0   
>     1", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "prgm_oth        Other   1       1       0       0       0       0   
>     1",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "prgm_oth        Other   1       1       0       0       0       0   
>     1",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
  - else {
  - if "`line'"!="" {
  = if "prgm_oth        Other   1       1       0       0       0       0       1"!=
> "" {
  - tokenize `"`macval(line)'"', parse(`"`delimiter'"')
  = tokenize `"prgm_oth Other   1       1       0       0       0       0       1"',
>  parse(`"     "')
  - local last_var "`1'"
  = local last_var "prgm_oth"
  - local allvars "`allvars' `1'"
  = local allvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth m
> l2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C a
> dmav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_healt
> h prgm_oth"
  - label variable `1' `"`3'"'
  = label variable prgm_oth `"Other"'
    ---------------------------------------------------------------- begin label ---
    - version 10.0
    - gettoken val : 0
    - if (strpos("`val'", "val") > 0 ) {
    = if (strpos("variable", "val") > 0 ) {
      gettoken val 0 : 0
      syntax anything [, nofix]
      if "`fix'" != "" {
      local fix ", nofix"
      }
      gettoken var rest : anything
      while `"`rest'"' != "" {
      gettoken lab rest : rest
      local label "`lab'"
      }
      local vlist : list anything - lab
      if "`lab'" == "." {
      local lab ""
      }
      foreach var of varlist `vlist' {
      _label `val' `var' `lab' `fix'
      }
      }
    - else {
    - _label `macval(0)'
    = _label variable prgm_oth `"Other"'
    - }
    ------------------------------------------------------------------ end label ---
  - quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
  = quietly replace __000001 = 0 if missing( prgm_oth) & ""=="consistent"
  - if "`5'"=="1" {
  = if "1"=="1" {
  - local keepvars "`keepvars' `1'"
  = local keepvars " male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_200
> 2 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> ml2_fr ml2_oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C 
> admav_belowC admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_heal
> th prgm_oth"
  - local rownames `"`rownames' "`3'""'
  = local rownames `" "Male" "1998" "1999" "2000" "2001" "2002" "2003" "2004" "2005"
>  "2006" "2007" "2008" "Newfoundland and Labrador" "Prince Edward Island" "Nova Sco
> tia" "New Brunswick" "Québec" "Manitoba" "Saskatchewan" "Alberta" "British Columb
> ia" "Yukon" "Other" "French" "Other" "Local" "A+" "A" "B+" "B" "C+" "C" "Below C" 
> "Missing" "Education" "Visual and Performing Arts" "Business" "Science" "Architect
> ure and Engineering" "Health" "Other""'
  - local colformats "`colformats' NCCR3 NCCR3"
  = local colformats " NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 N
> CCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3
>  NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCCR3 NCC
> R3 NCCR3 NCCR3 NCCR3"
  - }
  - if "`7'"=="1" {
  = if "1"=="1" {
  - local dummies "`dummies' `1'"
  = local dummies "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohor
> t_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov
> _pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  m
> l2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_health prgm_
> oth"
  - }
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - local tabpos = `i'-1
  = local tabpos = 1-1
  - local tabpos = `tabpos'*2
  = local tabpos = 0*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 0 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 2-1
  - local tabpos = `tabpos'*2
  = local tabpos = 1*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 2 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 3-1
  - local tabpos = `tabpos'*2
  = local tabpos = 2*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 4 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 4-1
  - local tabpos = `tabpos'*2
  = local tabpos = 3*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 6 + 9
  - if "``tabpos''" == "1" {
  = if "0" == "1" {
    local m`i' "`m`i'' `1'"
    }
  - }
  - local tabpos = `i'-1
  = local tabpos = 5-1
  - local tabpos = `tabpos'*2
  = local tabpos = 4*2
  - local tabpos = `tabpos' + 9
  = local tabpos = 8 + 9
  - if "``tabpos''" == "1" {
  = if "1" == "1" {
  - local m`i' "`m`i'' `1'"
  = local m5 " cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_20
> 03 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl prov_pei pr
> ov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth ml2_fr ml2_
> oth local1 admav_Aplus admav_A admav_Bplus admav_B admav_Cplus admav_C admav_below
> C admav_miss prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_health prgm_oth
> "
  - }
  - }
  - }
  - }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
  - if substr( "`line'", 1, 1) == "#" {
  = if substr( "\", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
  - else {
  - if substr( "`line'",1,1)==">" {
  = if substr( "\",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
  - else {
  - if substr( "`line'",1,1)=="\" {
  = if substr( "\",1,1)=="\" {
  - local dummies = rtrim( "`dummies'")
  = local dummies = rtrim( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  pro
> v_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov
> _oth \  ml2_fr ml2_oth \ prgm_ed prgm_vparts prgm_biz prgm_sci prgm_areng prgm_hea
> lth prgm_oth")
  - if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
  = if "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 coho
> rt_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_n
> s prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  ml2_fr ml2_o
> th \" != "" & substr( "cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002
>  cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_n
> l prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_ot
> h \  ml2_fr ml2_oth \", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
  - }
  - else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
  - }
  - }
  - file read myfile line
  - }
  - while r(eof) == 0 {
    if substr( "`line'", 1, 1) == "#" {
    local comment = substr( "`line'", 2, .)
    display as text "Comment: " as result "`comment'"
    }
    else {
    if substr( "`line'",1,1)==">" {
    local line = substr("`line'",2,.)
    if `"`rowblank'"' == "" {
    local comma ""
    }
    else {
    local comma ","
    }
    local rowblank `"`rowblank' `comma' `last_var' "`line'" SCLB0"'
    }
    else {
    if substr( "`line'",1,1)=="\" {
    local dummies = rtrim( "`dummies'")
    if "`dummies'" != "" & substr( "`dummies'", -1, 1) != "\" {
    local dummies "`dummies' \ "
    }
    }
    else {
    if "`line'"!="" {
    tokenize `"`macval(line)'"', parse(`"`delimiter'"')
    local last_var "`1'"
    local allvars "`allvars' `1'"
    label variable `1' `"`3'"'
    quietly replace `consis_sample' = 0 if missing( `1') & "`consistent'"=="consiste
> nt"
    if "`5'"=="1" {
    local keepvars "`keepvars' `1'"
    local rownames `"`rownames' "`3'""'
    local colformats "`colformats' NCCR3 NCCR3"
    }
    if "`7'"=="1" {
    local dummies "`dummies' `1'"
    }
    forvalues i = 1/`models' {
    local tabpos = `i'-1
    local tabpos = `tabpos'*2
    local tabpos = `tabpos' + 9
    if "``tabpos''" == "1" {
    local m`i' "`m`i'' `1'"
    }
    }
    }
    }
    }
    }
    file read myfile line
    }
  - file close myfile
  - include do/persistence_locals.do

. // persistence_locals.do
. 
. local cwidth_names 120

. local cwidth_percent 35

. local cwidth_reg 42

. local cwidth_obs 40

. local cwidth_blank 8

.   - local estlist ""
  - local cwidthlist "0 `cwidth_names'"
  = local cwidthlist "0 120"
  - local cwidthcount 1
  - forvalues i = 1/`models' {
  = forvalues i = 1/5 {
  - persistence_logit cont2 `m`i'' `regions' if `touse' & `consis_sample' `wt', save
> ( "`estdir'`estname`i''.ster") dummies( `dummies') estname( `estname`i'') regtitle
> ( "`regname`i''")
  = persistence_logit cont2  male cohort_1998 cohort_1999 cohort_2000 cohort_2001 co
> hort_2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 
> prov_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk p
> rov_oth  if __000000 & __000001 , save( "estimates//main/base/basic.ster") dummies
> ( cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 cohort_2003 cohort_2
> 004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \  prov_nl prov_pei prov_ns pr
> ov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \  ml2_fr ml2_oth \
> ) estname( basic) regtitle( "Basic Controls")
    ---------------------------------------------------- begin persistence_logit ---
    - version 10
    - syntax varlist [if] [pweight], save(string) [regtitle(string)] dummies(string)
>  estname(string) [quietly] [*]
    - local save_noext = regexr( "`save'", ".ster$", "")
    = local save_noext = regexr( "estimates//main/base/basic.ster", ".ster$", "")
    - local save_main = "`save_noext'.ster"
    = local save_main = "estimates//main/base/basic.ster"
    - capture confirm file `"`save_main'"'
    = capture confirm file `"estimates//main/base/basic.ster"'
    - if _rc {
    - if "`quietly'"=="" {
    = if ""=="" {
    - display _newline as text "----------------------------Regression--------------
> --------------"

----------------------------Regression----------------------------
    - display as result "`regtitle'" as text "."
    = display as result "Basic Controls" as text "."
Basic Controls.
    - display as text "-------------------------------------------------------------
> -----" _newline
------------------------------------------------------------------

    - }
    - `quietly' logit `varlist' `if' [`weight'`exp'], `options'
    =  logit cont2 male cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 
> cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 prov_nl pr
> ov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth if
>  __000000 & __000001  [], 
      -------------------------------------------------------------- begin logit ---
      - version 9, missing
      - local version : di "version " string(_caller()) ", missing :"
      - if _by() {
        local BY `"by `_byvars'`_byrc0':"'
        }
      - syntax [anything] [if] [in] [fw iw pw aw] [, VCE(passthru) Robust CLuster(pa
> ssthru) * ]
      - if `:length local vce' {
      = if 0 {
        `version' `BY' _vce_parserun logit, mark(OFFset CLuster) : `0'
        if "`s(exit)'" != "" {
        ereturn local cmdline `"logit `0'"'
        exit
        }
        _vce_parse, argopt(CLuster) opt(OIM Robust) old : [`weight'`exp'], `vce' `ro
> bust' `cluster'
        if "`r(cluster)'" != "" {
        local cluster cluster(`r(cluster)')
        }
        local robust `r(robust)'
        local vce = cond("`r(vce)'" != "", "`r(vce)'", "oim")
        }
      - else if "`weight'" == "pweight" | "`robust'`cluster'" != "" {
      = else if "" == "pweight" | "" != "" {
        local vce robust
        }
      - else local vce oim
      - if replay() {
        if !inlist("`e(cmd)'", "logit", "blogit", "logistic") {
        error 301
        }
        if _by() {
        error 190
        }
        `version' Display `0'
        exit
        }
      - `version' `BY' _logit `anything' `if' `in' [`weight'`exp'], `options' `robus
> t' `cluster'
      = version 10, missing :  _logit cont2 male cohort_1998 cohort_1999 cohort_2000
>  cohort_2001 cohort_2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_20
> 07 cohort_2008 prov_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab pr
> ov_bc prov_yk prov_oth if __000000 & __000001    [],   

Iteration 0:   log likelihood = -16512.471
Iteration 1:   log likelihood = -16360.007
Iteration 2:   log likelihood = -16347.405
Iteration 3:   log likelihood = -16347.365
Iteration 4:   log likelihood = -16347.365

Logistic regression                               Number of obs   =      44036
                                                  LR chi2(23)     =     330.21
                                                  Prob > chi2     =     0.0000
Log likelihood = -16347.365                       Pseudo R2       =     0.0100

------------------------------------------------------------------------------
       cont2 |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        male |  -.2602876   .0292697    -8.89   0.000    -.3176552   -.2029199
 cohort_1998 |   .1889873   .0877362     2.15   0.031     .0170276     .360947
 cohort_1999 |   .0442493   .0836891     0.53   0.597    -.1197783    .2082768
 cohort_2000 |   .2679943   .0875363     3.06   0.002     .0964262    .4395623
 cohort_2001 |   .1415951   .0839784     1.69   0.092    -.0229996    .3061898
 cohort_2002 |   .3236864   .0828248     3.91   0.000     .1613527      .48602
 cohort_2003 |   .3459594   .0774797     4.47   0.000      .194102    .4978169
 cohort_2004 |   .2875436   .0807957     3.56   0.000     .1291869    .4459002
 cohort_2005 |   .1795002   .0781653     2.30   0.022      .026299    .3327014
 cohort_2006 |   .1930508   .0775208     2.49   0.013     .0411128    .3449888
 cohort_2007 |    .098393   .0757304     1.30   0.194    -.0500359    .2468219
 cohort_2008 |   .1165644   .0765697     1.52   0.128    -.0335096    .2666383
     prov_nl |  -.2348146   .3266492    -0.72   0.472    -.8750352    .4054061
    prov_pei |   -.779113   .2759439    -2.82   0.005    -1.319953    -.238273
     prov_ns |  -.5079914   .1656993    -3.07   0.002     -.832756   -.1832267
     prov_nb |  -.6628275    .113147    -5.86   0.000    -.8845915   -.4410635
     prov_qc |  -.3032273   .0956672    -3.17   0.002    -.4907315   -.1157231
     prov_mb |  -.7013621   .2261181    -3.10   0.002    -1.144545   -.2581788
     prov_sk |  -.7904241   .2494755    -3.17   0.002    -1.279387   -.3014612
     prov_ab |   -.570957   .1815377    -3.15   0.002    -.9267644   -.2151496
     prov_bc |  -.9959883   .1072867    -9.28   0.000    -1.206266   -.7857102
     prov_yk |  -1.063929   .5277109    -2.02   0.044    -2.098224    -.029635
    prov_oth |  -.7346148   .0953167    -7.71   0.000    -.9214321   -.5477974
       _cons |   1.933844    .064625    29.92   0.000     1.807181    2.060507
------------------------------------------------------------------------------
      - ereturn local vce "`vce'"
      = ereturn local vce "oim"
      - ereturn local title "Logistic regression"
      - ereturn local cmdline `"logit `0'"'
      = ereturn local cmdline `"logit cont2 male cohort_1998 cohort_1999 cohort_2000
>  cohort_2001 cohort_2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_20
> 07 cohort_2008 prov_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab pr
> ov_bc prov_yk prov_oth if __000000 & __000001  [], "'
      ---------------------------------------------------------------- end logit ---
    - if "`quietly'"=="" {
    = if ""=="" {
    - display _newline as text "-------------------------Marginal Effects-----------
> --------------"

-------------------------Marginal Effects-------------------------
    - display as result "`regtitle'" as text "."
    = display as result "Basic Controls" as text "."
Basic Controls.
    - display as text "-------------------------------------------------------------
> -----" _newline
------------------------------------------------------------------

    - }
    - `quietly' margeff, dummies(`dummies') replace
    =  margeff, dummies(cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 
> cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ prov_nl 
> prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth 
> \ ml2_fr ml2_oth \) replace
      ------------------------------------------------------------ begin margeff ---
      - version 9.2
      - if "`1'"=="?" {
      = if ","=="?" {
        gettoken tmp 0 : 0
        if `"`0'"'=="" SendVersion
        else `0'
        exit
        }
      - if "`e(cmd)'"=="" exit 301
      = if "logit"=="" exit 301
      - if `"`0'"'=="," | `"`0'"'=="" {
      = if `", dummies(cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2002 c
> ohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ prov_nl p
> rov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_oth \
>  ml2_fr ml2_oth \) replace"'=="," | `", dummies(cohort_1998 cohort_1999 cohort_200
> 0 cohort_2001 cohort_2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2
> 007 cohort_2008 \ prov_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab
>  prov_bc prov_yk prov_oth \ ml2_fr ml2_oth \) replace"'=="" {
        if "`e(cmd)'"=="margeff" local doit = 0
        else local doit = 1
        }
      - else {
      - gettoken cmd 0 : 0 , parse(" ,")
      - local l = length("`cmd'")
      = local l = length(",")
      - if substr("replay",1,`l')==`"`cmd'"' {
      = if substr("replay",1,1)==`","' {
        if "`e(cmd)'"=="margeff" & "`e(margeff_cmd)'"=="" {
        di as red "It is impossible to replay marginal effects"
        error 301
        }
        local doit = 0
        }
      - else if substr("compute",1,`l')=="`cmd'" {
      = else if substr("compute",1,1)=="," {
        local doit = 1
        }
      - else {
      - local 0 `cmd' `0'
      = local 0 ,  dummies(cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_20
> 02 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ prov_
> nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_o
> th \ ml2_fr ml2_oth \) replace
      - local doit = 1
      - }
      - }
      - if `doit'==1 {
      = if 1==1 {
      - preserve
      - CheckSupport `0'
      = CheckSupport ,  dummies(cohort_1998 cohort_1999 cohort_2000 cohort_2001 coho
> rt_2002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ 
> prov_nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk p
> rov_oth \ ml2_fr ml2_oth \) replace
      - Estimate `0'
      = Estimate ,  dummies(cohort_1998 cohort_1999 cohort_2000 cohort_2001 cohort_2
> 002 cohort_2003 cohort_2004 cohort_2005 cohort_2006 cohort_2007 cohort_2008 \ prov
> _nl prov_pei prov_ns prov_nb prov_qc prov_mb prov_sk prov_ab prov_bc prov_yk prov_
> oth \ ml2_fr ml2_oth \) replace
Invalid dummies() option:  not among the regressors
invalid syntax
        Replay `0'
        restore
        sret clear
        }
      -------------------------------------------------------------- end margeff ---
      estimates title: "`regtitle'"
      estimates store `estname'
      estimates save `"`save_main'"'
      }
    ------------------------------------------------------ end persistence_logit ---
    local estlist "`estlist' `estname`i''"
    local cwidthlist "`cwidthlist', `cwidthcount' `cwidth_reg'"
    local ++cwidthcount
    }
  -------------------------------------------------------- end persistence_model ---
  local myreplace "append"
  }
  }
r(198);

end of do-file

r(198);

. set trace off

. do finalcleanup

. * finalcleanup.do
. 
. /*
>         Clear the time and date strings.
> */
. 
. global ransetup ""

. 
. capture noisily log close
       log:  /Users/sechilds/uottawa/log/.log
  log type:  text
 closed on:   7 Feb 2011, 08:07:21
------------------------------------------------------------------------------------
